# 模拟模式

![模拟模式](/screenshots/main-simulation.png)

模拟模式提供在真实机器上运行之前实时可视化激光作业执行。它通过 2D 视图中的交互式叠加显示执行顺序、速度变化和功率级别。

## 概述

模拟模式帮助您：

- **可视化执行顺序** - 准确看到操作将运行的序列
- **识别速度变化** - 颜色热图显示慢（蓝色）到快（红色）的移动
- **检查功率级别** - 透明度指示功率（淡=低，粗=高）
- **验证材料测试** - 确认测试网格执行顺序
- **尽早捕获错误** - 在浪费材料之前发现问题
- **理解时间** - 查看不同操作需要多长时间


## 激活模拟模式

有三种方式进入模拟模式：

### 方法 1：键盘快捷键
按 <kbd>f7</kbd> 切换模拟模式开/关。

### 方法 2：菜单
- 导航到 **视图 → 模拟执行**
- 点击切换开/关

### 方法 3：工具栏（如果可用）
- 点击工具栏中的模拟模式按钮

:::note 仅 2D 视图
模拟模式在 2D 视图中工作。如果您在 3D 视图（<kbd>f6</kbd>）中，先切换到 2D 视图（<kbd>f5</kbd>）。
:::


## 理解可视化

### 速度热图

操作根据其速度着色：

| 颜色 | 速度 | 含义 |
|------|------|------|
| 🔵 **蓝色** | 最慢 | 作业中的最小速度 |
| 🔵 **青色** | 慢 | 低于平均速度 |
| 🟢 **绿色** | 中等 | 平均速度 |
| 🟡 **黄色** | 快 | 高于平均速度 |
| 🔴 **红色** | 最快 | 作业中的最大速度 |

热图**标准化**到您作业的实际速度范围：
- 如果您的作业运行 100-1000 mm/min，蓝色=100，红色=1000
- 如果您的作业运行 5000-10000 mm/min，蓝色=5000，红色=10000


### 功率透明度

线条不透明度指示激光功率：

- **淡线**（10% 不透明度）= 低功率（0%）
- **半透明**（50% 不透明度）= 中功率（50%）
- **实线**（100% 不透明度）= 全功率（100%）

这有助于识别：
- 行程移动（0% 功率）- 非常淡
- 雕刻操作 - 中等不透明度
- 切割操作 - 实线，粗线

### 激光头指示器

激光位置用十字准线显示：

- 🔴 红色十字准线（6mm 线）
- 圆形轮廓（3mm 半径）
- 中心点（0.5mm）

指示器在播放期间移动，准确显示激光在执行序列中的位置。

## 播放控制

模拟模式活动时，播放控制出现在画布底部：


### 播放/暂停按钮

- **▶️ 播放**：开始自动播放
- **⏸️ 暂停**：在当前位置停止
- **自动播放**：启用模拟模式时播放自动开始

### 进度滑块

- **拖动**以擦过执行
- **点击**跳转到特定点
- 显示当前步骤 / 总步骤
- 支持分数位置以实现平滑擦洗

### 速度范围显示

显示作业中的最小和最大速度：

```
速度范围：100 - 5000 mm/min
```

这有助于您理解热图颜色。

## 使用模拟模式

### 验证执行顺序

模拟准确显示操作将执行的顺序：

1. 启用模拟模式（<kbd>f7</kbd>）
2. 观看播放
3. 验证操作按预期序列运行
4. 检查切割在雕刻之后发生（如果适用）

**示例：** 材料测试网格
- 观察风险优化顺序（最快速度优先）
- 确认低功率单元在高功率之前执行
- 验证测试以安全序列运行

### 检查速度变化

使用热图识别速度更改：

- **一致的颜色** = 统一速度（适用于雕刻）
- **颜色更改** = 速度变化（在角落预期）
- **蓝色区域** = 慢移动（检查是否有意）

### 估计作业时间

播放持续时间缩放到完整作业 5 秒：

- 观看播放速度
- 估计实际时间：如果播放感觉平滑，作业将很快
- 如果播放快速跳跃，作业有许多小段

:::tip 实际时间
生成 G 代码后（非模拟），查看状态栏右侧部分以获取作业执行期间的实际时间。
:::


### 调试材料测试

对于材料测试网格，模拟显示：

1. **执行顺序** - 验证单元以最快→最慢运行
2. **速度热图** - 每列应该是不同的颜色
3. **功率透明度** - 每行应该有不同的不透明度

这有助于确认测试在使用材料前将正确运行。

## 模拟时编辑

与许多 CAM 工具不同，Rayforge 让您**在模拟期间编辑工件**：

- 移动、缩放、旋转对象 ✅
- 更改操作设置 ✅
- 添加/移除工件 ✅
- 缩放和平移 ✅

**自动更新：** 更改设置时模拟自动刷新。

:::note 无上下文切换
您可以在模拟模式时保持编辑 - 无需来回切换。
:::


## 提示和最佳实践

### 何时使用模拟

✅ **总是在以下之前模拟：**
- 运行昂贵材料
- 长作业（>30 分钟）
- 材料测试网格
- 具有复杂执行顺序的作业

✅ **使用模拟来：**
- 验证操作顺序
- 检查意外的行程移动
- 验证速度/功率设置
- 培训新用户

### 阅读可视化

✅ **查找：**
- 操作内一致的颜色（好）
- 段之间平滑过渡（好）
- 意外的蓝色区域（调查 - 为什么这么慢？）
- 切割区域淡线（错误 - 检查功率设置）

⚠️ **危险信号：**
- 雕刻前切割（工件可能移动）
- 非常长的蓝色（慢）段（低效）
- 操作中功率更改（检查设置）

### 性能提示

- 模拟在更改时自动更新
- 对于非常复杂的作业（1000+ 操作），模拟可能变慢
- 不需要时禁用模拟（<kbd>f7</kbd>）以获得更好的性能

## 键盘快捷键

| 快捷键 | 操作 |
|--------|--------|
| <kbd>f7</kbd> | 切换模拟模式开/关 |
| <kbd>f5</kbd> | 切换到 2D 视图（模拟需要）|
| <kbd>space</kbd> | 播放/暂停播放 |
| <kbd>left</kbd> | 向后步进 |
| <kbd>right</kbd> | 向前步进 |
| <kbd>home</kbd> | 跳到开始 |
| <kbd>end</kbd> | 跳到结束 |

## 相关主题

- **[3D 预览](../ui/3d-preview)** - 3D 刀具路径可视化
- **[材料测试网格](operations/material-test-grid)** - 使用模拟验证测试
- **[模拟作业](simulating-your-job)** - 详细模拟指南
