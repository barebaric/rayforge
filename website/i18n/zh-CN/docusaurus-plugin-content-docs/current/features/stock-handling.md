# 材料处理工作流程

Rayforge 中的材料处理是一个顺序过程，允许您定义将要使用的物理材料，为其分配属性，然后组织设计元素。本指南将带您完成从添加材料到自动布局设计的完整工作流程。

## 1. 添加材料

材料代表您将切割或雕刻的物理材料。要将材料添加到文档：

1. 在侧边栏的 **材料** 面板中，点击 **添加材料** 按钮
2. 将创建一个具有默认尺寸（机器工作区的 80%）的新材料项目
3. 材料将显示为工作区中的矩形，居中在机器床上

### 材料属性

每个材料项目具有以下属性：
- **名称**：用于识别的描述性名称（自动编号为"材料 1"、"材料 2"等）
- **尺寸**：材料项目的宽度和高度
- **厚度**：材料厚度（可选，但建议用于准确的 3D 预览）
- **材质**：材料类型（在下一步分配）
- **可见性**：切换以显示/隐藏工作区中的材料

### 管理材料项目

- **重命名**：打开材料属性对话框并编辑名称字段
- **调整大小**：在工作区中选择材料项目并拖动角手柄以调整大小
- **移动**：在工作区中选择材料项目并拖动以重新定位
- **删除**：点击材料面板中材料项目旁边的删除按钮（垃圾桶图标）
- **编辑属性**：点击属性按钮（文档图标）以打开材料属性对话框
- **切换可见性**：点击可见性按钮（眼睛图标）以显示/隐藏材料项目

## 2. 分配材质

定义材料后，您可以为其分配材质：

1. 在 **材料** 面板中，点击材料项目的属性按钮（文档图标）
2. 在材料属性对话框中，点击材质字段旁边的 **选择** 按钮
3. 浏览您的材料库并选择适当的材料
4. 材料将更新以显示材料的视觉外观

### 材质属性

材质定义材料的视觉属性：
- **视觉外观**：用于可视化的颜色和图案
- **类别**：分组（例如，"木材"、"亚克力"、"金属"）
- **描述**：有关材料的附加信息

注意：材质属性在材料库中定义，不能通过材料属性对话框编辑。材料属性仅允许您将材质分配给材料项目。

## 3. 将材料分配给图层

定义材料并分配材质后，您可以将图层与特定材料项目关联：

1. 在 **图层** 面板中，找到要分配给材料的图层
2. 点击材料分配按钮（默认显示"整个表面"）
3. 从下拉菜单中，选择要与该图层关联的材料项目
4. 该图层的内容现在将被限制在分配材料的边界内

您也可以选择"整个表面"以使用整个机器工作区而不是特定材料项目。

### 为什么要将材料分配给图层？

- **布局边界**：为自动布局算法提供边界
- **视觉组织**：通过将图层与物理材料关联来组织设计
- **材料可视化**：显示分配材料在材料上的视觉外观

## 4. 自动布局

自动布局功能帮助您高效地排列设计元素：

1. 选择要排列的项目（或什么都不选以排列活动图层中的所有项目）
2. 点击工具栏中的 **排列** 按钮并选择 **自动布局（打包工件）**
3. Rayforge 将自动排列项目以优化材料使用

### 自动布局行为

自动布局算法根据您的图层配置以不同方式工作：

- **如果图层分配了材料项目**：项目在特定材料项目的边界内排列
- **如果选择了"整个表面"**：项目在整个机器工作区中排列

算法考虑：
- **项目边界**：尊重每个设计元素的尺寸
- **旋转**：可以以 90 度增量旋转项目以获得更好的配合
- **间距**：保持项目之间的边距（默认 0.5mm）
- **材料边界**：将所有项目保持在定义的边界内

### 手动布局替代方案

如果您更喜欢更多控制，Rayforge 还提供手动布局工具：
- **对齐工具**：左对齐、右对齐、居中、上对齐、下对齐
- **分布工具**：水平或垂直分布项目
- **单独定位**：点击并拖动项目以手动放置

## 有效材料处理的提示

1. **从准确的材料尺寸开始** - 精确测量材料以获得最佳效果
2. **使用描述性名称** - 清楚地命名材料项目（例如，"桦木胶合板 3mm"）
3. **设置材料厚度** - 这对于未来的计算和参考可能有用
4. **尽早分配材质** - 这确保从头开始正确的视觉表示
5. **使用图层组织** - 在分配给材料之前将设计的不同部分分成图层
6. **切割前检查配合** - 使用 2D 视图验证一切都适合您的材料

## 故障排除

### 自动布局效果不如预期
- 检查图层是否分配了材料
- 确保项目未组合（先取消组合）
- 尝试减少一次选择的项目数量
- 验证项目适合边界（材料或整个表面）
