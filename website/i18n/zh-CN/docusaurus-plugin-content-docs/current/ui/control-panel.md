# 控制面板

Rayforge 窗口底部的控制面板提供对激光切割机位置的手动控制、实时机器状态和用于监控操作的日志视图。

## 概述

控制面板将多个功能组合到一个便捷的界面中：

1. **点动控制**：手动移动和定位
2. **机器状态**：实时位置和连接状态
3. **控制台**：带有语法高亮的交互式 G 代码终端
4. **工作坐标系（WCS）**：快速 WCS 选择

![控制面板](/screenshots/control-panel.png)

## 访问控制面板

控制面板始终在主窗口底部可见。可以通过以下方式切换：

- **菜单**：视图 → 控制面板
- **键盘快捷键**：Ctrl+L

:::note 需要连接
点动控制仅在连接到支持点动操作的机器时可用。
:::


## 点动控制

点动控制提供对激光切割机位置的手动控制，允许您精确移动激光头以进行设置、对齐和测试。

### 归零控制

归零机器的轴以建立参考位置：

| 按钮   | 功能       | 描述                   |
| ------ | ---------- | ---------------------- |
| 零 X   | 归零 X 轴  | 将 X 轴移动到其零点位置 |
| 零 Y   | 归零 Y 轴  | 将 Y 轴移动到其零点位置 |
| 零 Z   | 归零 Z 轴  | 将 Z 轴移动到其零点位置 |
| 全部归零| 归零所有轴| 同时归零所有轴         |

:::tip 归零序列
建议在开始任何作业之前归零所有轴，以确保准确定位。
:::


### 方向移动

点动控制提供方向移动的按钮：

```
  ↖  ↑  ↗
  ←  •  →
  ↙  ↓  ↘
```

| 按钮             | 移动                           | 键盘快捷键   |
| ---------------- | ------------------------------ | ------------ |
| ↑                | Y+（如果机器 Y 翻转则为 Y-）   | 上箭头       |
| ↓                | Y-（如果机器 Y 翻转则为 Y+）   | 下箭头       |
| ←                | X-（左）                       | 左箭头       |
| →                | X+（右）                       | 右箭头       |
| ↖（左上）        | X- Y+/-（对角线）              | -            |
| ↗（右上）        | X+ Y+/-（对角线）              | -            |
| ↙（左下）        | X- Y-/+（对角线）              | -            |
| ↘（右下）        | X+ Y-/+（对角线）              | -            |
| Z+               | Z 轴上                         | Page Up      |
| Z-               | Z 轴下                         | Page Down    |

:::note 需要焦点
键盘快捷键仅在主窗口有焦点时有效。
:::


### 视觉反馈

点动按钮提供视觉反馈：

- **正常**：按钮已启用且安全使用
- **警告（橙色）**：移动将接近或超过软限位
- **禁用**：不支持移动或机器未连接

### 点动设置

配置点动操作的行为：

**点动速度：**
- **范围**：1-10,000 mm/min
- **默认**：1,000 mm/min
- **目的**：控制激光头移动的速度

:::tip 速度选择
- 使用较低的速度（100-500 mm/min）进行精确定位
- 使用较高的速度（1,000-3,000 mm/min）进行较大的移动
- 非常高的速度可能导致某些机器丢步
:::


**点动距离：**
- **范围**：0.1-1,000 mm
- **默认**：10.0 mm
- **目的**：控制每次按钮按下激光头移动多远

:::tip 距离选择
- 使用小距离（0.1-1.0 mm）进行微调
- 使用中等距离（5-20 mm）进行一般定位
- 使用大距离（50-100 mm）进行快速重新定位
:::


## 机器状态显示

控制面板显示有关机器的实时信息：

### 当前位置

显示活动坐标系中激光头的位置：

- 坐标相对于所选的 WCS 原点
- 在点动或运行作业时实时更新
- 格式：X、Y、Z 值（毫米）

### 连接状态

- **已连接**：绿色指示器，机器正在响应
- **已断开**：灰色指示器，无机器连接
- **错误**：红色指示器，连接或通信问题

### 机器状态

- **空闲**：机器准备接受命令
- **运行**：作业当前正在执行
- **暂停**：作业已暂停
- **警报**：机器处于警报状态
- **归零**：归零循环正在进行中

## 工作坐标系（WCS）

控制面板提供对工作坐标系管理的快速访问。

### 活动系统选择

选择当前活动的坐标系：

| 选项          | 类型 | 描述                                   |
| ------------- | ---- | -------------------------------------- |
| G53（机器）   | 固定 | 绝对机器坐标，无法更改                 |
| G54（工作 1） | 用户 | 第一个工作坐标系                       |
| G55（工作 2） | 用户 | 第二个工作坐标系                       |
| G56（工作 3） | 用户 | 第三个工作坐标系                       |
| G57（工作 4） | 用户 | 第四个工作坐标系                       |
| G58（工作 5） | 用户 | 第五个工作坐标系                       |
| G59（工作 6） | 用户 | 第六个工作坐标系                       |

### 当前偏移

显示活动 WCS 的偏移值：

- 显示为 (X, Y, Z)（毫米）
- 表示从机器原点到 WCS 原点的距离
- 在 WCS 偏移更改时自动更新

### 设置 WCS 零点

定义活动 WCS 的原点应在哪里：

| 按钮  | 功能    | 描述                                   |
| ----- | ------- | -------------------------------------- |
| 零 X  | 设置 X=0| 将当前 X 位置设为活动 WCS 的 X 原点    |
| 零 Y  | 设置 Y=0| 将当前 Y 位置设为活动 WCS 的 Y 原点    |
| 零 Z  | 设置 Z=0| 将当前 Z 位置设为活动 WCS 的 Z 原点    |

:::note G53 无法更改
选择 G53（机器坐标）时零按钮被禁用，因为机器坐标由硬件固定。
:::


:::tip 设置 WCS 工作流程
1. 连接到机器并归零所有轴
2. 选择要配置的 WCS（例如 G54）
3. 将激光头点动到所需的原点位置
4. 点击零 X 和零 Y 将此位置设为 (0, 0)
5. 偏移存储在您的机器控制器中
:::


## 控制台

控制台提供交互式终端风格界面，用于发送 G 代码命令和监控机器通信：

### 命令输入

命令输入框允许您直接向机器发送原始 G 代码：

- **多行支持**：粘贴或输入多个命令
- **Enter**：发送所有命令
- **Shift+Enter**：插入换行（用于发送前编辑）
- **历史**：使用上/下箭头导航之前发送的命令

### 日志显示

日志显示 Rayforge 和您的机器之间的通信，带有语法高亮以便阅读：

- **用户命令**（蓝色）：您输入或在作业期间发送的命令
- **时间戳**（灰色）：每条消息的时间
- **错误**（红色）：来自机器的错误消息
- **警告**（橙色）：警告消息
- **状态轮询**（暗淡）：实时位置/状态报告，如 `&lt;Idle|WPos:0.000,0.000,0.000|...&gt;`

### 详细模式

点击控制台右上角的终端图标以切换详细输出：

- **关闭**（默认）：隐藏频繁的状态轮询和"ok"响应
- **开启**：显示所有机器通信

### 自动滚动行为

控制台自动滚动以显示新消息：

- 向上滚动禁用自动滚动，以便您可以查看历史
- 滚动到底部重新启用自动滚动
- 自动滚动活动时新消息立即出现

### 使用控制台进行故障排除

控制台对于诊断问题非常有价值：

- 验证命令是否正确发送
- 检查来自控制器的错误消息
- 监控连接状态和稳定性
- 实时查看作业执行进度
- 发送诊断命令（例如 `$$` 查看 GRBL 设置）

## 机器兼容性

控制面板适应您机器的功能：

### 轴支持

- **X/Y 轴**：几乎所有激光切割机都支持
- **Z 轴**：仅在具有 Z 轴控制的机器上可用
- **对角线移动**：需要 X 和 Y 轴都支持

### 机器类型

| 机器类型         | 点动支持 | 备注                   |
| ---------------- | -------- | ---------------------- |
| GRBL（v1.1+）    | 完全     | 支持所有点动功能       |
| Smoothieware     | 完全     | 支持所有点动功能       |
| 自定义控制器     | 可变     | 取决于实现             |

## 安全功能

### 软限位

当在机器配置文件中启用软限位时：

- 接近限位时按钮显示橙色警告
- 自动限制移动以防止超出边界
- 提供视觉反馈以防止碰撞

### 连接状态

- 未连接机器时所有控件都禁用
- 按钮根据机器状态更新敏感度
- 防止操作期间意外移动

---

**相关页面：**

- [工作坐标系（WCS）](../general-info/work-coordinate-systems) - 管理 WCS
- [机器设置](../machine/general) - 配置您的机器
- [键盘快捷键](../reference/shortcuts) - 完整的快捷键参考
- [主窗口](main-window) - 主界面概述
- [常规设置](../machine/general) - 设备配置
