# G 代码设置

机器设置中的 G 代码页面配置 Rayforge 如何为您的机器生成 G 代码。

![G 代码设置](/screenshots/machine-gcode.png)

## G 代码方言

选择与您的控制器固件匹配的 G 代码方言。不同的控制器使用略有不同的命令和格式。

### 可用方言

- **GRBL**：业余激光切割机最常见。使用 M3/M5 进行激光控制。
- **Smoothieware**：用于 Smoothieboard 和类似控制器。
- **Marlin**：用于基于 Marlin 的控制器。
- **GRBL 兼容**：用于主要遵循 GRBL 语法的控制器。

:::info
方言影响激光功率、移动和其他命令在输出 G 代码中的格式。
:::

## 自定义 G 代码

您可以自定义 Rayforge 在作业的特定点生成的 G 代码。

### 程序开始

在每个作业开始时执行的 G 代码命令，在任何切割操作之前。

常见用途：
- 设置单位（G21 表示毫米）
- 设置定位模式（G90 表示绝对）
- 初始化机器状态

### 程序结束

在每个作业结束时执行的 G 代码命令，在所有切割操作之后。

常见用途：
- 关闭激光（M5）
- 返回原点（G0 X0 Y0）
- 停放头

### 工具更换

在切换激光头时执行的 G 代码命令（用于多激光机器）。

## 另请参阅

- [G 代码基础](../general-info/gcode-basics) - 理解 G 代码
- [G 代码方言](../reference/gcode-dialects) - 详细的方言差异
- [钩子和宏](hooks-macros) - 自定义 G 代码注入点
