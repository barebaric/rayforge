# 工作坐标系（WCS）

工作坐标系（WCS）允许您在机器的工作区域上定义多个参考点。这使得可以在不同位置运行相同的作业，而无需重新设计或重新定位工件。

## 坐标空间

Rayforge 使用三个协同工作的坐标空间：

| 空间         | 描述                                                   |
| ------------ | ------------------------------------------------------ |
| **MACHINE**  | 相对于机器原点位置的绝对坐标。原点由硬件固定。         |
| **WORKAREA** | 机器内的可用区域，考虑了工作台周围的边距。             |
| **WCS**      | 您作业的坐标系。用户可配置的原点，用于设计和作业定位。 |

:::note 开发者说明
在内部，Rayforge 使用一个称为 WORLD 空间的标准化坐标系。
WORLD 空间描述与 MACHINE 空间相同的物理空间，但采用固定约定：
Y 轴向上，原点在左下角。这简化了内部计算和渲染。用户不需要直接与 WORLD 空间交互。
:::

### MACHINE 空间

MACHINE 空间是相对于机器原点位置的绝对坐标系。
原点 (0,0) 由机器的归零配置决定。

- **原点**：机器原点位置 (0,0,0) - 由硬件固定
- **用途**：所有其他坐标系的参考
- **固定**：不能通过软件更改

坐标方向取决于您的机器配置：

- **原点角落**：可以是左上、左下、右上或右下
- **轴方向**：X 和 Y 轴可以根据硬件设置反转

### WORKAREA 空间

WORKAREA 空间定义了机器内的可用区域，考虑了工作台边缘的任何边距。

- **原点**：与 MACHINE 空间原点相同的角落
- **用途**：定义可以运行作业的实际区域
- **边距**：可以应用边距（左、上、右、下）

例如，如果您的机器是 400×300mm，但四周有 10mm 的边距，
WORKAREA 将是 380×280mm，从 MACHINE 空间的位置 (10, 10) 开始。

## 理解 WCS

将 WCS 视为您工作的可自定义"零点"。虽然您的机器有一个固定的原点位置（由限位开关确定），但 WCS 允许您定义工作从哪里开始。

### 为什么使用 WCS？

- **多个夹具**：在您的工作台上设置多个工作区域并在它们之间切换
- **可重复定位**：在不同位置运行相同的作业
- **快速对齐**：根据您的材料或工件设置参考点
- **生产工作流程**：在您的工作区域组织多个作业

## WCS 类型

Rayforge 支持以下坐标系：

| 系统    | 类型   | 描述                           |
| ------- | ------ | ------------------------------ |
| **G53** | 机器   | 绝对机器坐标（固定，无法更改） |
| **G54** | 工作 1 | 第一个工作坐标系（默认）       |
| **G55** | 工作 2 | 第二个工作坐标系               |
| **G56** | 工作 3 | 第三个工作坐标系               |
| **G57** | 工作 4 | 第四个工作坐标系               |
| **G58** | 工作 5 | 第五个工作坐标系               |
| **G59** | 工作 6 | 第六个工作坐标系               |

### 机器坐标 (G53)

G53 代表您机器的绝对位置，零点在机器的原点位置。这由您的硬件固定，无法更改。

**何时使用：**

- 归零和校准
- 相对于机器限制的绝对定位
- 当您需要引用机器的物理位置时

### 工作坐标 (G54-G59)

这些是您可以定义的偏移坐标系。每个都有自己的零点，您可以在工作区域的任何地方设置。

**何时使用：**

- 设置多个工作夹具
- 对齐到材料位置
- 在不同位置运行相同的作业

## 在界面中可视化 WCS

### 2D 画布

2D 画布用绿色标记显示您的 WCS 原点：

- **绿线**：指示当前 WCS 原点 (0, 0) 位置
- **网格对齐**：网格线对齐到 WCS 原点，而不是机器原点

当您更改活动 WCS 或其偏移时，原点标记会移动，准确显示您的工作将从哪里开始。

### 3D 预览

在 3D 预览中，WCS 的显示方式不同：

- **网格和轴**：整个网格看起来就像 WCS 原点是世界原点
- **隔离视图**：WCS 以"隔离"方式显示 - 看起来网格以 WCS 为中心，而不是机器
- **标签**：坐标标签相对于 WCS 原点

这使得很容易可视化您的作业将相对于所选工作坐标系在哪里运行。

## 选择和更改 WCS

### 通过工具栏

1. 在主工具栏中找到 WCS 下拉菜单（默认标记为"G53"）
2. 点击查看可用的坐标系
3. 选择您想使用的 WCS

### 通过控制面板

1. 打开控制面板（视图 → 控制面板 或 Ctrl+L）
2. 在机器状态部分找到 WCS 下拉菜单
3. 从下拉菜单中选择所需的 WCS

## 设置 WCS 偏移

您可以定义每个 WCS 原点在机器上的位置。

### 在当前位置设置零点

1. 连接到您的机器
2. 选择您要配置的 WCS（例如 G54）
3. 将激光头移动到您想要成为 (0, 0) 的位置
4. 在控制面板中，点击归零按钮：
   - **X 归零**：将当前 X 位置设置为活动 WCS 的 0
   - **Y 归零**：将当前 Y 位置设置为活动 WCS 的 0
   - **Z 归零**：将当前 Z 位置设置为活动 WCS 的 0

偏移存储在您的机器控制器中，并在会话之间保持。

### 查看当前偏移

控制面板显示活动 WCS 的当前偏移：

- **当前偏移**：显示距机器原点的 (X, Y, Z) 偏移
- **当前位置**：显示激光头在活动 WCS 中的位置

## 作业中的 WCS

当您运行作业时，Rayforge 使用活动 WCS 来定位您的工作：

1. 在画布中设计您的作业
2. 选择您想使用的 WCS
3. 运行作业 - 它将根据 WCS 偏移定位

只需更改活动 WCS，就可以在不同位置运行相同的作业。

## 实用工作流程

### 工作流程 1：多个夹具位置

您有一个大的工作台，想要设置三个工作区域：

1. **机器归零** 以建立参考
2. **移动到第一个工作区域** 并设置 G54 偏移（X 归零，Y 归零）
3. **移动到第二个工作区域** 并设置 G55 偏移
4. **移动到第三个工作区域** 并设置 G56 偏移
5. 现在您可以在 G54、G55 和 G56 之间切换，在每个区域运行作业

### 工作流程 2：对齐到材料

您有一块材料放在工作台的某个位置：

1. **移动激光头** 到您材料的角落
2. **选择 G54**（或您首选的 WCS）
3. **点击 X 归零和 Y 归零** 将材料角落设置为 (0, 0)
4. **设计您的作业** 以 (0, 0) 为原点
5. **运行作业** - 它将从材料角落开始

### 工作流程 3：生产网格

您需要在不同位置切割同一零件 10 次：

1. **在 Rayforge 中设计一个零件**
2. **为所需位置设置 G54-G59 偏移**
3. **在 G54 活动时运行作业**
4. **切换到 G55** 并再次运行
5. **重复** 每个 WCS 位置

## 重要说明

### WCS 限制

- **G53 无法更改**：机器坐标由硬件固定
- **偏移保持**：WCS 偏移存储在您的机器控制器中
- **需要连接**：您必须连接到机器才能设置 WCS 偏移

---

**相关页面：**

- [控制面板](../ui/control-panel) - 手动控制和 WCS 管理
- [机器设置](../machine/general) - 配置您的机器
- [3D 预览](../ui/3d-preview) - 可视化您的作业
