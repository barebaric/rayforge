# Робочі системи координат (WCS)

Робочі системи координат (WCS) дозволяють вам визначити декілька опорних точок на робочій області вашої машини. Це полегшує виконання одного й того ж завдання в різних позиціях без перепроєктування або перепозиціонування ваших деталей.

## Координатні простори

Rayforge використовує три координатні простори, які працюють разом:

| Простір      | Опис                                                                                                                              |
| ------------ | --------------------------------------------------------------------------------------------------------------------------------- |
| **MACHINE**  | Абсолютні координати відносно позиції початку відліку машини. Початок координат фіксується апаратним забезпеченням.               |
| **WORKAREA** | Використовувана область всередині вашої машини, з урахуванням полів навколо робочого столу.                                       |
| **WCS**      | Система координат вашого завдання. Початок координат, що налаштовується користувачем, для проєктування та позиціонування завдань. |

:::note Примітка для розробників
Внутрішньо Rayforge використовує нормалізовану систему координат, що називається простором WORLD.
Простір WORLD описує той самий фізичний простір, що й простір MACHINE, але з
фіксованою конвенцією: Y вгору з початком координат у нижньому лівому куті. Це спрощує
внутрішні обчислення та рендеринг. Користувачам не потрібно взаємодіяти безпосередньо
з простором WORLD.
:::

### Простір MACHINE

Простір MACHINE - це абсолютна система координат відносно позиції початку відліку
вашої машини. Початок координат (0,0) визначається конфігурацією паркування вашої машини.

- **Початок координат**: Позиція початку відліку машини (0,0,0) - фіксується апаратним забезпеченням
- **Призначення**: Довідкова система для всіх інших систем координат
- **Фіксований**: Не може бути змінений програмним забезпеченням

Напрямок координат залежить від конфігурації вашої машини:

- **Кут початку координат**: Може бути верхнім лівим, нижнім лівим, верхнім правим або нижнім правим
- **Напрямок осей**: Осі X та Y можуть бути інвертовані залежно від налаштувань апаратного забезпечення

### Простір WORKAREA

Простір WORKAREA визначає використовувану область всередині вашої машини, з урахуванням
будь-яких полів навколо країв вашого робочого столу.

- **Початок координат**: Той самий кут, що й початок простору MACHINE
- **Призначення**: Визначає фактичну область, де можуть виконуватися завдання
- **Поля**: Можуть бути застосовані поля (ліве, верхнє, праве, нижнє)

Наприклад, якщо ваша машина має розмір 400×300мм, але має поле 10мм з усіх сторін,
WORKAREA становитиме 380×280мм, починаючи з позиції (10, 10) у просторі MACHINE.

## Розуміння WCS

Думайте про WCS як про налаштовувані "нульові точки" для вашої роботи. У той час як ваша машина має фіксовану позицію початку відліку (визначену кінцевими вимикачами), WCS дозволяє вам визначити, де ви хочете, щоб ваша робота починалася.

### Чому використовувати WCS?

- **Кілька кріплень**: Налаштуйте кілька робочих областей на вашому столі та перемикайтеся між ними
- **Повторюване позиціонування**: Виконуйте одне й те ж завдання в різних місцях
- **Швидке вирівнювання**: Встановіть опорну точку на основі вашого матеріалу або деталі
- **Виробничі робочі процеси**: Організуйте кілька завдань у вашій робочій області

## Типи WCS

Rayforge підтримує наступні системи координат:

| Система | Тип      | Опис                                                             |
| ------- | -------- | ---------------------------------------------------------------- |
| **G53** | Машина   | Абсолютні машинні координати (фіксовані, не можуть бути змінені) |
| **G54** | Робоча 1 | Перша робоча система координат (за замовчуванням)                |
| **G55** | Робоча 2 | Друга робоча система координат                                   |
| **G56** | Робоча 3 | Третя робоча система координат                                   |
| **G57** | Робоча 4 | Четверта робоча система координат                                |
| **G58** | Робоча 5 | П'ята робоча система координат                                   |
| **G59** | Робоча 6 | Шоста робоча система координат                                   |

### Машинні координати (G53)

G53 представляє абсолютну позицію вашої машини, з нулем у позиції початку відліку машини. Це фіксується вашим апаратним забезпеченням і не може бути змінено.

**Коли використовувати:**

- Паркування та калібрування
- Абсолютне позиціонування відносно меж машини
- Коли вам потрібно посилатися на фізичну позицію машини

### Робочі координати (G54-G59)

Це системи координат зі зміщенням, які ви можете визначити. Кожна має свою власну нульову точку, яку ви можете встановити в будь-якому місці вашої робочої області.

**Коли використовувати:**

- Налаштування кількох робочих кріплень
- Вирівнювання на позиції матеріалу
- Виконання одного й того ж завдання в різних місцях

## Візуалізація WCS в інтерфейсі

### 2D полотно

2D полотно показує ваш початок координат WCS із зеленим маркером:

- **Зелені лінії**: Вказують поточну позицію початку координат WCS (0, 0)
- **Вирівнювання сітки**: Лінії сітки вирівняні по початку координат WCS, а не по початку координат машини

Маркер початку координат переміщується, коли ви змінюєте активний WCS або його зміщення, показуючи вам точно, де почнеться ваша робота.

### 3D перегляд

У 3D перегляді WCS відображається інакше:

- **Сітка та осі**: Вся сітка з'являється так, ніби початок координат WCS є початком світу
- **Ізольований вигляд**: WCS показується "в ізоляції" - виглядає так, ніби сітка центрована на WCS, а не на машині
- **Мітки**: Мітки координат відносні до початку координат WCS

Це полегшує візуалізацію того, де буде виконуватися ваше завдання відносно обраної робочої системи координат.

## Вибір та зміна WCS

### Через панель інструментів

1. Знайдіть випадаючий список WCS на головній панелі інструментів (за замовчуванням позначений "G53")
2. Натисніть, щоб побачити доступні системи координат
3. Виберіть WCS, який ви хочете використовувати

### Через панель керування

1. Відкрийте панель керування (Вигляд → Панель керування або Ctrl+L)
2. Знайдіть випадаючий список WCS у розділі статусу машини
3. Виберіть бажаний WCS із випадаючого списку

## Встановлення зміщень WCS

Ви можете визначити, де знаходиться початок координат кожного WCS на вашій машині.

### Встановлення нуля в поточній позиції

1. Підключіться до вашої машини
2. Виберіть WCS, який ви хочете налаштувати (наприклад, G54)
3. Перемістіть лазерну головку в позицію, яка має бути (0, 0)
4. У панелі керування натисніть кнопки нуля:
   - **Нуль X**: Встановлює поточну позицію X як 0 для активного WCS
   - **Нуль Y**: Встановлює поточну позицію Y як 0 для активного WCS
   - **Нуль Z**: Встановлює поточну позицію Z як 0 для активного WCS

Зміщення зберігаються в контролері вашої машини та зберігаються між сесіями.

### Перегляд поточних зміщень

Панель керування показує поточні зміщення для активного WCS:

- **Поточні зміщення**: Відображає зміщення (X, Y, Z) від початку координат машини
- **Поточна позиція**: Показує позицію лазерної головки в активному WCS

## WCS у ваших завданнях

Коли ви виконуєте завдання, Rayforge використовує активний WCS для позиціонування вашої роботи:

1. Спроєктуйте ваше завдання на полотні
2. Виберіть WCS, який ви хочете використовувати
3. Виконайте завдання - воно буде позиціоноване відповідно до зміщення WCS

Те саме завдання може бути виконане в різних позиціях простою зміною активного WCS.

## Практичні робочі процеси

### Робочий процес 1: Кілька позицій кріплення

Ви маєте великий стіл і хочете налаштувати три робочі області:

1. **Виконайте парковку машини** для встановлення довідки
2. **Перемістіться до першої робочої області** і встановіть зміщення G54 (Нуль X, Нуль Y)
3. **Перемістіться до другої робочої області** і встановіть зміщення G55
4. **Перемістіться до третьої робочої області** і встановіть зміщення G56
5. Тепер ви можете перемикатися між G54, G55 та G56 для виконання завдань у кожній області

### Робочий процес 2: Вирівнювання на матеріал

Ви маєте шматок матеріалу, розміщений десь на вашому столі:

1. **Перемістіть лазерну головку** до кута вашого матеріалу
2. **Виберіть G54** (або ваш бажаний WCS)
3. **Натисніть Нуль X та Нуль Y**, щоб встановити кут матеріалу як (0, 0)
4. **Спроєктуйте ваше завдання** з (0, 0) як початком координат
5. **Виконайте завдання** - воно почнеться від кута матеріалу

### Робочий процес 3: Виробнича сітка

Вам потрібно вирізати ту саму деталь 10 разів у різних місцях:

1. **Спроєктуйте одну деталь** в Rayforge
2. **Налаштуйте зміщення G54-G59** для ваших бажаних позицій
3. **Виконайте завдання** з активним G54
4. **Перемкніться на G55** і виконайте знову
5. **Повторіть** для кожної позиції WCS

## Важливі примітки

### Обмеження WCS

- **G53 не може бути змінений**: Машинні координати фіксовані апаратним забезпеченням
- **Зміщення зберігаються**: Зміщення WCS зберігаються в контролері вашої машини
- **Потрібне підключення**: Ви повинні бути підключені до машини, щоб встановлювати зміщення WCS

---

**Пов'язані сторінки:**

- [Панель керування](../ui/control-panel) - Ручне керування та управління WCS
- [Налаштування машини](../machine/general) - Налаштуйте вашу машину
- [3D перегляд](../ui/3d-preview) - Візуалізація ваших завдань
