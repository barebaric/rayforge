# 导入文件

Rayforge 支持导入多种文件格式，包括矢量和光栅。本页说明如何导入文件并对其进行优化以获得最佳效果。

## 支持的文件格式

### 矢量格式

| 格式    | 扩展名 | 导入方法         | 最适用于               |
| ------- | ------ | ---------------- | ---------------------- |
| **SVG** | `.svg` | 直接矢量或描绘   | 矢量图形、标志、设计   |
| **DXF** | `.dxf` | 直接矢量         | CAD 图纸、技术设计     |
| **PDF** | `.pdf` | 渲染并描绘       | 带矢量内容的文档       |
| **Ruida**| `.rd` | 直接矢量         | Ruida 控制器作业文件   |

### 光栅格式

| 格式     | 扩展名          | 导入方法   | 最用于                   |
| -------- | --------------- | ---------- | ------------------------ |
| **PNG**  | `.png`          | 描绘为矢量 | 照片、带透明度的图像     |
| **JPEG** | `.jpg`, `.jpeg` | 描绘为矢量 | 照片、连续色调图像       |
| **BMP**  | `.bmp`          | 描绘为矢量 | 简单图形、屏幕截图       |

:::note 光栅导入
:::

所有光栅图像都被**描绘**以创建可用于激光操作的矢量路径。质量取决于描绘配置。

---

## 导入文件

### 导入对话框

Rayforge 具有统一的导入对话框，为所有支持的文件类型提供实时预览和配置选项。对话框允许您：

- 导入前**预览导入**
- 为光栅图像**配置描绘设置**
- 为 SVG 文件**选择导入方法**（直接矢量或描绘）
- **调整参数**如阈值、反转和自动阈值

![导入对话框](/screenshots/import-dialog.png)

### 方法 1：文件菜单

1. **文件 → 导入**（或 Ctrl+I）
2. 从文件选择器中**选择文件**
3. 在导入对话框中**配置导入设置**
4. 导入前**预览**结果
5. **点击导入**添加到画布和文档树

### 方法 2：拖放

1. 从文件管理器中**拖动文件**
2. **放置到** Rayforge 画布上
3. 在导入对话框中**配置导入设置**
4. 导入前**预览**结果
5. **点击导入**添加到画布和文档树

### 方法 3：命令行

```bash
# 用文件打开 Rayforge
rayforge myfile.svg

# 多个文件
rayforge file1.svg file2.dxf
```

### 导入时自动调整大小

当导入大于机器工作区域的文件时，Rayforge 将自动：

1. **缩小**导入的内容以适应机器边界
2. 在缩放期间**保持纵横比**
3. **居中**缩放后的内容在工作区
4. **显示通知**并提供撤销调整大小的选项

调整大小通知显示为提示消息：

- ⚠️ "导入的项目大于工作区域，已缩小以适应。"
- 包含**"重置"**按钮以撤销自动调整大小
- 提示保持可见直到关闭或执行重置操作

这确保您的设计始终在机器能力范围内，同时给您灵活地恢复原始大小（如果需要）。

---

## SVG 导入

SVG（可缩放矢量图形）是矢量设计的**推荐格式**。

### 对话框中的导入选项

导入 SVG 时，导入对话框提供切换开关以在两种方法之间选择：

#### 1. 使用原始矢量（推荐）

此选项在导入对话框中默认启用。

**工作原理：**

- 解析 SVG 并将路径直接转换为 Rayforge 几何
- 高保真保留曲线和形状
- 保持精确的矢量数据

**优点：**

- 最佳质量和精度
- 可编辑的路径
- 文件小

**缺点：**

- 某些高级 SVG 功能不支持
- 复杂 SVG 可能有问题

**用途：**

- 来自 Inkscape、Illustrator 的干净矢量设计
- 简单到中等复杂度
- 没有高级 SVG 功能的设计

#### 2. 描绘位图

禁用"使用原始矢量"以使用此方法。

**工作原理：**

- 首先将 SVG 渲染为光栅图像
- 描绘渲染的图像以创建矢量
- 更兼容但精度较低

**优点：**

- 处理复杂的 SVG 功能
- 稳健的备用方法
- 支持效果和滤镜

**缺点：**

- 光栅化导致质量损失
- 文件较大
- 不够精确

**用途：**

- 直接导入失败的 SVG
- 带效果、滤镜、渐变的 SVG
- 直接导入产生错误时

### 实时预览

导入对话框显示 SVG 将如何导入的实时预览：

- 矢量路径以蓝色叠加显示
- 对于描绘模式，显示原始图像和描绘路径
- 更改设置时实时更新预览

### SVG 最佳实践

**准备 SVG 以获得最佳效果：**

1. **将文本转换为路径：**

   - Inkscape：`路径 → 对象转路径`
   - Illustrator：`文字 → 创建轮廓`

2. **简化复杂路径：**

   - Inkscape：`路径 → 简化`（Ctrl+L）
   - 删除不必要的节点

3. **取消嵌套组的组合：**

   - 尽可能展平层次结构
   - `对象 → 取消组合`（Ctrl+Shift+G）

4. **删除隐藏元素：**

   - 删除参考线、网格、构造线
   - 删除不可见/透明的对象

5. **保存为纯 SVG：**

   - Inkscape："纯 SVG"或"优化 SVG"
   - 不是"Inkscape SVG"（有额外的元数据）

6. **检查文档单位：**
   - 适当设置为 mm 或英寸
   - Rayforge 内部使用 mm

**可能无法导入的常见 SVG 功能：**

- 渐变（转换为实心填充或光栅）
- 滤镜和效果（展平为路径）
- 遮罩和剪切路径（扩展/展平）
- 嵌入的光栅图像（单独导出）
- 文本（先转换为路径）

---

## DXF 导入

DXF（图形交换格式）是 CAD 软件常见的格式。

### DXF 版本

Rayforge 支持标准 DXF 格式：

- ✓ **R12/LT2**（推荐）- 最佳兼容性
- ✓ R13、R14
- ✓ R2000+（通常有效，但 R12 更安全）

**提示：** 导出为 R12/LT2 DXF 以获得最大兼容性。

### DXF 导入提示

**从 CAD 导出前：**

1. **简化图纸：**

   - 删除不必要的图层
   - 删除尺寸和注释
   - 删除 3D 对象（使用 2D 投影）

2. **检查单位：**

   - 验证绘图单位（mm 与英寸）
   - Rayforge 默认假设 mm

3. **展平图层：**

   - 考虑仅导出相关图层
   - 隐藏或删除构造图层

4. **使用适当的精度：**
   - 激光精度通常为 0.1mm
   - 不要过度指定精度

**导入后：**

- 检查比例（DXF 单位可能需要调整）
- 验证所有路径正确导入
- 删除任何不需要的构造元素

---

## PDF 导入

PDF 文件可以包含矢量图形、光栅图像或两者。

### PDF 导入如何工作

通过导入对话框导入 PDF 文件时，Rayforge **将 PDF 渲染**为图像，然后**描绘**它以创建矢量。

**过程：**

1. PDF 渲染并显示在导入对话框预览中
2. 您可以实时调整描绘设置
3. 使用您的设置描绘渲染图像
4. 当您点击导入时，结果路径添加到文档

**限制：**

- 文本被光栅化（不可作为路径编辑）
- 矢量质量取决于渲染 DPI
- 多页 PDF：仅导入第一页

### PDF 导入提示

**最佳效果：**

1. **使用矢量 PDF：**

   - 从矢量软件（Illustrator、Inkscape）创建的 PDF
   - 不是扫描文档或嵌入图像

2. **如果可能，改用 SVG 导出：**

   - 大多数设计软件可以直接导出 SVG
   - SVG 将比 PDF 导入具有更好的质量

3. **对于带文本的文档：**

   - 导出为 SVG，字体转换为路径
   - 或以高 DPI（600+）渲染 PDF 并描绘

4. **使用导入对话框预览：**
   - 调整阈值和反转设置以获得最佳效果
   - 预览准确显示 PDF 将如何描绘

---

## Ruida 导入

Ruida（.rd）文件是许多激光切割机中 Ruida 控制器使用的专有二进制作业文件。这些文件包含按图层（颜色）组织的矢量几何和激光设置。

**导入后：**

- **检查比例** - 验证尺寸是否与预期大小匹配
- **查看图层** - 确保所有图层正确导入
- **验证路径** - 确认所有切割路径都存在

### 限制

- **只读导入** - Ruida 文件只能导入，不能导出
- **二进制格式** - 不支持直接编辑原始 .rd 文件
- **专有功能** - 某些高级 Ruida 功能可能不完全支持

---

## 光栅图像导入（PNG、JPG、BMP）

光栅图像通过导入对话框被**描绘**以创建矢量路径。

### 对话框中的描绘过程

**工作原理：**

1. **图像加载**到导入对话框中
2. **实时预览**显示描绘结果
3. **描绘设置**可以实时调整
4. 从描绘的边缘**创建矢量路径**
5. 导入时**路径添加**到文档作为工件

### 对话框中的描绘配置

导入对话框提供这些可调参数：

| 参数            | 描述       | 效果                                      |
| --------------- | ---------- | ----------------------------------------- |
| **自动阈值**    | 自动检测   | 启用时，自动找到最佳阈值                  |
| **阈值**        | 黑/白截止  | 较低 = 更多细节，较高 = 更简单            |
| **反转**        | 反转颜色   | 在深色背景上描绘浅色对象                  |

**默认设置**对大多数图像效果良好。对话框显示实时预览，随着您调整这些设置而更新，允许您在导入前微调描绘。

### 准备图像以进行描绘

**最佳效果：**

1. **高对比度：**

   - 在图像编辑器中调整亮度/对比度
   - 前景和背景之间有明显区别

2. **干净的背景：**

   - 删除噪点和伪影
   - 纯白色或透明背景

3. **适当的分辨率：**

   - 照片用 300-500 DPI
   - 太高 = 描绘慢，太低 = 质量差

4. **裁剪到内容：**

   - 删除不必要的边框
   - 关注要雕刻/切割的区域

5. **转换为黑白：**
   - 切割：纯黑白
   - 雕刻：灰度可以

**图像编辑工具：**

- GIMP（免费）
- Photoshop
- Krita（免费）
- Paint.NET（免费，Windows）

### 描绘质量

**良好的描绘候选：**

- 边缘清晰的标志
- 高对比度图像
- 线条艺术和图画
- 文本（尽管矢量更好）

**差的描绘候选：**

- 低分辨率图像
- 边缘柔和的照片
- 带渐变的图像
- 非常详细或复杂的照片

---

## 相关页面

- [支持的格式](formats) - 详细的格式规格
- [导出 G 代码](exporting) - 输出选项
- [快速入门](../getting-started/quick-start) - 第一次导入教程
