# 3D 预览

3D 预览窗口让您在将 G 代码刀具路径发送到机器之前可视化它们。这个强大的功能帮助您捕获错误并验证作业设置。

![3D 预览](/screenshots/main-3d.png)

## 打开 3D 预览

访问 3D 预览：

- **菜单**：视图 → 3D 预览
- **键盘**：<kbd>ctrl+3</kbd>
- **G 代码生成后**：自动打开（可配置）

## 导航

### 鼠标控制

- **旋转**：左键点击并拖动
- **平移**：右键点击并拖动，或中键点击并拖动
- **缩放**：滚轮，或 <kbd>ctrl</kbd> + 左键点击并拖动

### 键盘控制

- <kbd>r</kbd>：将相机重置为默认视图
- <kbd>home</kbd>：重置缩放和位置
- <kbd>f</kbd>：将视图适应刀具路径
- 箭头键：旋转相机

### 视图预设

快速相机角度：

- **顶部**（<kbd>1</kbd>）：鸟瞰视图
- **前部**（<kbd>2</kbd>）：前立面
- **右侧**（<kbd>3</kbd>）：右侧立面
- **等轴**（<kbd>4</kbd>）：3D 等轴视图

## 工作坐标系显示

3D 预览以不同于 2D 画布的方式可视化活动工作坐标系（WCS）：

### 网格和轴

- **隔离显示**：网格和轴显示为 WCS 原点是世界原点
- **应用偏移**：整个网格移动以与所选 WCS 偏移对齐
- **标签相对于 WCS**：坐标标签显示相对于 WCS 原点的位置，而不是机器原点

这种"隔离"显示使理解作业相对于所选工作坐标系的运行位置变得容易，而不会被机器的绝对位置混淆。

### 更改 WCS

当您更改活动 WCS 时，3D 预览自动更新：
- 从工具栏下拉菜单中选择不同的 WCS
- 网格和轴移动以反映新的 WCS 原点
- 标签更新以显示相对于新 WCS 的坐标

:::tip 3D 预览中的 WCS
3D 预览显示相对于所选 WCS 的刀具路径。当您更改 WCS 时，您会看到刀具路径似乎移动，因为参考点（网格）已更改，而不是因为刀具路径本身移动。
:::


## 显示选项

### 刀具路径可视化

自定义您看到的内容：

- **显示快速移动**：显示行程移动（虚线）
- **显示工作移动**：显示切割/雕刻移动（实线）
- **按操作着色**：每个操作不同颜色
- **按功率着色**：基于激光功率的渐变
- **按速度着色**：基于进给率的渐变

### 机器可视化

- **显示原点**：显示 (0,0) 参考点
- **显示工作区域**：显示机器边界
- **显示激光头**：显示当前位置指示器

### 质量设置

- **线宽**：刀具路径线的粗细
- **抗锯齿**：平滑线渲染（可能影响性能）
- **背景**：浅色、深色或自定义颜色

## 播放控制

模拟作业执行：

- **播放/暂停**（<kbd>space</kbd>）：动画刀具路径执行
- **速度**：调整播放速度（0.5x - 10x）
- **向前/向后步进**：按单个 G 代码命令前进
- **跳转到位置**：点击时间线跳转到特定点

### 时间线

时间线显示：

- 作业中的当前位置
- 操作边界（彩色段）
- 任何点的估计时间

## 分析工具

### 距离测量

在 3D 中测量距离：

1. 启用测量工具
2. 点击刀具路径上的两个点
3. 以当前单位查看距离

### 统计面板

查看作业统计：

- **总距离**：所有移动的总和
- **工作距离**：仅切割/雕刻距离
- **快速距离**：仅行程移动
- **估计时间**：作业持续时间估计
- **边界框**：整体尺寸

### 图层可见性

切换操作的可见性：

- 点击操作名称以显示/隐藏
- 聚焦于特定操作以进行检查
- 隔离问题而无需重新生成 G 代码

## 验证清单

发送到机器前，验证：

- [ ] **刀具路径完整**：无缺失段
- [ ] **在工作区域内**：保持在机器边界内
- [ ] **正确的操作顺序**：雕刻在切割之前
- [ ] **无碰撞**：头不会撞击夹具/固定装置
- [ ] **正确的原点**：从预期位置开始
- [ ] **标签位置**：固定标签在正确位置（如果使用）

## 性能提示

对于大型或复杂的作业：

1. **降低线条细节**：降低显示质量以获得更快的渲染
2. **隐藏快速移动**：仅关注工作移动
3. **禁用抗锯齿**：提高帧率
4. **关闭其他应用程序**：释放 GPU 资源

## 故障排除

### 预览为空白或黑色

- 重新生成 G 代码（<kbd>ctrl+g</kbd>）
- 检查操作是否启用
- 验证对象已分配操作

### 预览缓慢或卡顿

- 降低线宽
- 禁用抗锯齿
- 隐藏快速移动
- 更新图形驱动程序

### 颜色显示不正确

- 检查着色方式设置（操作/功率/速度）
- 确保操作分配了不同的颜色
- 将视图设置重置为默认值

---

**相关页面：**

- [工作坐标系](../general-info/coordinate-systems) - WCS
- [主窗口](main-window) - 主界面概述
- [设置](settings) - 应用程序首选项
